"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2794],{4157:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"events","title":"Events","description":"Events are a major concept in many products. When there\'s a new order, you want to see it instantly on the screen via sockets. You might also want to send a web push notification or an email to the user when a certain event occurs.","source":"@site/docs/events.mdx","sourceDirName":".","slug":"/events","permalink":"/fireback/docs/events","draft":false,"unlisted":false,"editUrl":"https://github.com/torabian/fireback/tree/main/docs/docs/events.mdx","tags":[],"version":"current","sidebarPosition":6.5,"frontMatter":{"sidebar_position":6.5},"sidebar":"tutorialSidebar","previous":{"title":"Entities","permalink":"/fireback/docs/entities"},"next":{"title":"Actions","permalink":"/fireback/docs/actions"}}');var s=t(4848),o=t(8453);const a={sidebar_position:6.5},r="Events",c={},d=[{value:"Event vs Notification",id:"event-vs-notification",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Example of defining events:",id:"example-of-defining-events",level:2}];function l(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"events",children:"Events"})}),"\n",(0,s.jsx)(n.p,{children:"Events are a major concept in many products. When there's a new order, you want to see it instantly on the screen via sockets. You might also want to send a web push notification or an email to the user when a certain event occurs."}),"\n",(0,s.jsx)(n.p,{children:"Fireback provides a distributed option to handle events in single or multi-instance applications."}),"\n",(0,s.jsx)(n.h2,{id:"event-vs-notification",children:"Event vs Notification"}),"\n",(0,s.jsx)(n.p,{children:"There are two distinct concepts in Fireback, and it's essential to understand the difference."}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.em,{children:"Notification"})," is a simple, stateless object that just contains a payload. Its goal is to travel through sockets, push notifications, or other channels. It doesn\u2019t know who should receive it or why it was created."]}),"\n",(0,s.jsxs)(n.p,{children:["An ",(0,s.jsx)(n.em,{children:"Event"}),", on the other hand, has permissions (similar to an action) and includes information about where and by which user it was created. Events must be computed and then converted into one or many notifications."]}),"\n",(0,s.jsxs)(n.p,{children:["For example, when a new order happens in a workspace with five salespeople, a single event is created. But since all five are connected via sockets to the backend, it generates five separate ",(0,s.jsx)(n.em,{children:"Notifications"})," based on that one event."]}),"\n",(0,s.jsx)(n.p,{children:"If someone doesn\u2019t have permission to see sales-related notifications, they are excluded through event metadata, and no notification is created for them."}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsxs)(n.p,{children:["You can set the event bus Redis URL using the ",(0,s.jsx)(n.code,{children:"redisEventsUrl"})," config or via CLI:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"./app config redis-events-url set 127.0.0.1:6379\n"})}),"\n",(0,s.jsx)(n.h2,{id:"example-of-defining-events",children:"Example of defining events:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"events:\n  - cacheKey: AnythingThatWillBeSentToFrontEnd\n    description: Describe the event purpose. It's only for developer documentation\n    name: nameOfTheEventWhichWill\n    security:\n      allowOnRoot: \n      requires:\n        - completeKey: asdasd\n      resolveStrategy: workspace\n    payload:\n      dto:  #Use dto name\n      entity: #Use entity name\n      fields: # Or define the fields\n"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>r});var i=t(6540);const s={},o=i.createContext(s);function a(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);