"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[938],{3449:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"configs","title":"Configs","description":"Configs are a part of Module3 definition yaml, and allow to create config","source":"@site/docs/configs.mdx","sourceDirName":".","slug":"/configs","permalink":"/fireback/docs/configs","draft":false,"unlisted":false,"editUrl":"https://github.com/torabian/fireback/tree/main/docs/docs/configs.mdx","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"title":"Configs","sidebar_position":8},"sidebar":"tutorialSidebar","previous":{"title":"Remotes","permalink":"/fireback/docs/remotes"},"next":{"title":"Messages","permalink":"/fireback/docs/messages"}}');var t=i(4848),o=i(8453);const r={title:"Configs",sidebar_position:8},c=void 0,a={},d=[{value:"Fields",id:"fields",level:2},{value:"<code>Name</code>",id:"name",level:3},{value:"<code>Type</code>",id:"type",level:3},{value:"<code>Description</code>",id:"description",level:3},{value:"<code>Default</code>",id:"default",level:3},{value:"<code>Env</code>",id:"env",level:3},{value:"<code>Fields</code>",id:"fields-1",level:3}];function l(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Configs are a part of Module3 definition yaml, and allow to create config\nobjects for your module, and generate some helpers to read them from .env\nfiles, json, list them and more."}),"\n",(0,t.jsx)(n.p,{children:"Configurations are an easy way to make the env variables typesafe, and more verstile\nthan direct accessing it via env. You neede to define an array of the configuration,\nand they become golang struct, and helper functions on top of them will be generated."}),"\n",(0,t.jsxs)(n.p,{children:["WorkspacesModule3.yml contains the general fireback env variables. ",(0,t.jsxs)(n.strong,{children:["Important that the ",(0,t.jsx)(n.code,{children:"config"})," is singular,\neventhough it's an array"]}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"name: workspaces\nmeta-workspace: true\nconfig:\n  - name: name\n    description: >-\n      Environment name, such as dev, prod, test, test-eu, etc...\n  - name: dbName\n    default: ':memory:'\n    description: >-\n      Database name for vendors which provide database names, such as mysql.\n      Filename on disk for sqlite.\n  - name: certFile\n    description: SSL Certification location to server on http listener\n  ...\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Fireback will generate ",(0,t.jsx)(n.code,{children:"type Config struct"})," for each module, so make sure you do not have this struct\ndefined in your module or the name will be conflicting. Check ",(0,t.jsx)(n.code,{children:"WorkspacesModule.dyno.go"})," file and you'll\nsee some code similar to following, as well as a instance of ",(0,t.jsx)(n.code,{children:"config"})," with default values which you have\nspecified in the module3 definition."]}),"\n",(0,t.jsx)(n.p,{children:"There is a plan in Fireback that catching these params from cli arguments will be generated."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:'...\ntype Config struct {\n\t// Environment name, such as dev, prod, test, test-eu, etc...\n\tName string `envconfig:"NAME" description:"Environment name, such as dev, prod, test, test-eu, etc..."`\n\t// Database name for vendors which provide database names, such as mysql. Filename on disk for sqlite.\n\tDbName string `envconfig:"DB_NAME" description:"Database name for vendors which provide database names, such as mysql. Filename on disk for sqlite."`\n\t// SSL Certification location to server on http listener\n\tCertFile string `envconfig:"CERT_FILE" description:"SSL Certification location to server on http listener"`\n\t// SSL Certification key file\n...\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Now, by calling ",(0,t.jsx)(n.code,{children:"LoadConfiguration"})," it would be reading the config from your .env file. Feel free to extend\nthis logic and contribute to the Fireback source. You can check workspaces module for further insight\nhow the configuration is being read."]}),"\n",(0,t.jsx)(n.h2,{id:"fields",children:"Fields"}),"\n",(0,t.jsx)(n.h3,{id:"name",children:(0,t.jsx)(n.code,{children:"Name"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Type:"})," ",(0,t.jsx)(n.code,{children:"string"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Description:"}),"\nThe identifier for the configuration field. It is used in Go code and environment files. By default, the name is converted to uppercase with underscores to reference the corresponding environment variable. This behavior can be overridden using the ",(0,t.jsx)(n.code,{children:"Env"})," field."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"type",children:(0,t.jsx)(n.code,{children:"Type"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Type:"})," ",(0,t.jsx)(n.code,{children:"string"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Description:"}),"\nDefines the data type of the environment variable. It supports standard Go types (e.g., ",(0,t.jsx)(n.code,{children:"string"}),", ",(0,t.jsx)(n.code,{children:"bool"}),", ",(0,t.jsx)(n.code,{children:"int64"}),") and custom Fireback types. It is important to ensure the type is compatible with the expected usage."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"description",children:(0,t.jsx)(n.code,{children:"Description"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Type:"})," ",(0,t.jsx)(n.code,{children:"string"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Description:"}),"\nProvides a human-readable explanation of the configuration field's purpose. It is useful for developers and can also appear in CLI tools for interactive configurations."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"default",children:(0,t.jsx)(n.code,{children:"Default"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Type:"})," ",(0,t.jsx)(n.code,{children:"string"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Description:"}),"\nSpecifies the default value for the configuration field if no value is provided. This ensures the application has a fallback configuration."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"env",children:(0,t.jsx)(n.code,{children:"Env"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Type:"})," ",(0,t.jsx)(n.code,{children:"string"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Description:"}),"\nOverrides the default environment variable name, which is typically derived from the ",(0,t.jsx)(n.code,{children:"Name"})," field. Use this field to manually specify the name of the environment variable."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"fields-1",children:(0,t.jsx)(n.code,{children:"Fields"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Type:"})," ",(0,t.jsx)(n.code,{children:"[]Module3ConfigField"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Description:"}),"\nRepresents child configuration fields if the current field defines an object or an array of subfields. This allows for hierarchical configurations. Note that support for nested fields may be limited."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>c});var s=i(6540);const t={},o=s.createContext(t);function r(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);