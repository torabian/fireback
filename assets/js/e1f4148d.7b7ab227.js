"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4984],{1307:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"configurating-your-project","title":"Configurating your project","description":"Commonly frameworks start with models, controllers, guards, and leave other challenges to the developer","source":"@site/docs/configurating-your-project.mdx","sourceDirName":".","slug":"/configurating-your-project","permalink":"/fireback/docs/configurating-your-project","draft":false,"unlisted":false,"editUrl":"https://github.com/torabian/fireback/tree/main/docs/docs/configurating-your-project.mdx","tags":[],"version":"current","sidebarPosition":3.8,"frontMatter":{"title":"Configurating your project","sidebar_position":3.8},"sidebar":"tutorialSidebar","previous":{"title":"Database Support","permalink":"/fireback/docs/database-support"},"next":{"title":"Module3 Definition","permalink":"/fireback/docs/module3-definition"}}');var i=a(4848),r=a(8453);const s={title:"Configurating your project",sidebar_position:3.8},o=void 0,c={},l=[{value:"Running migration",id:"running-migration",level:2},{value:"Syncing capabilities",id:"syncing-capabilities",level:2},{value:"Workspace Types",id:"workspace-types",level:2},{value:"Define teacher and student workspace types",id:"define-teacher-and-student-workspace-types",level:3}];function d(e){const n={code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Commonly frameworks start with models, controllers, guards, and leave other challenges to the developer\nto make a choice. Fireback comes with many default things in mind, to let the project go live,\nwith least possible configuration or technical decisions."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"These configuration are necessary either using Fireback as user management or developing your backend with it in go"}),".\nSimply Fireback could be installed as a product and you could develop your own backend on other\nlanguages, and you need to do some configuration for it to work properly."]}),"\n",(0,i.jsx)(n.p,{children:"Yet, for all these features which are available in workspaces module, you need to make some\ndecisions how you want to run your project."}),"\n",(0,i.jsx)(n.p,{children:"These topics are:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Run the migrations, and inserting capabilities"}),"\n",(0,i.jsx)(n.li,{children:"Configurate the admin users"}),"\n",(0,i.jsx)(n.li,{children:"Write email templates, setup the email providers, email senders and more."}),"\n",(0,i.jsx)(n.li,{children:"Configurate the passport methods (allowing email, phone numbers or other)."}),"\n",(0,i.jsx)(n.li,{children:"Setting Workspace Types (For example in a shop, customers, sellers, or other type of users)"}),"\n",(0,i.jsx)(n.li,{children:"Adding capabilities (permissions) for custom built services."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"running-migration",children:"Running migration"}),"\n",(0,i.jsxs)(n.p,{children:["Capabilities are a common method of controlling access level across the applications, and\n",(0,i.jsx)(n.em,{children:"User, Role, Workspace and Permissions"})," model of Fireback allows to create such scenarios\nfor simple and complicated products."]}),"\n",(0,i.jsxs)(n.p,{children:["Migrations need to be run as well to keep the database elements in sync. Fireback automatically\nadds every entitiy into ",(0,i.jsx)(n.code,{children:"fireback migration apply"})," command, and also you could write custom\nmigrations and add them to module via ",(0,i.jsx)(n.code,{children:"ProvideEntityHandlers"})," function:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"module.ProvideEntityHandlers(func(dbref *gorm.DB) error {\n   // implement as many as migrations you want, and access dbref\n   // as gorm database connection\n})\n"})}),"\n",(0,i.jsx)(n.h2,{id:"syncing-capabilities",children:"Syncing capabilities"}),"\n",(0,i.jsxs)(n.p,{children:["You can synchronize the the capabilities via ",(0,i.jsx)(n.code,{children:"fireback migration capabilities"})," alone.\nrunning ",(0,i.jsx)(n.code,{children:"migration apply"})," command will refresh the capabilities after running database migrations."]}),"\n",(0,i.jsx)(n.h2,{id:"workspace-types",children:"Workspace Types"}),"\n",(0,i.jsx)(n.p,{children:"Workspace types are very interesting solution based on the capabilities. They limit a certain\ntype of users to only have specific features of the application available to them."}),"\n",(0,i.jsx)(n.p,{children:'This could be selected before user joins the product. Imagine a learning platform,\nwhich "Students" and "Teachers" need a complete different panel and features. Using\nworkspace types, you can still develop the same application but provide the features\nselectively to students and teachers.'}),"\n",(0,i.jsx)(n.p,{children:"Workspace types also could be used to develop different packages for product, like paid and unpaid,\nand by assiging a specific role to that type, you enable or disable a set of features."}),"\n",(0,i.jsx)(n.h3,{id:"define-teacher-and-student-workspace-types",children:"Define teacher and student workspace types"}),"\n",(0,i.jsx)(n.p,{children:"Before you can any workspace type, you need to create their roles. A role, is a title,\nand array of capabilities."}),"\n",(0,i.jsx)(n.p,{children:"Because we did not develop the student and teacher entities or actions, we go and\nadd manullay two capabilities for testing purposes:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'./app cap c --uid "root/teacher/*" --name "Teacher capabilities"\n'})}),"\n",(0,i.jsx)(n.p,{children:"And student as well:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'./app cap c --uid "root/student/*" --name "Student capabilities"\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Then we go create such roles for both of them. ",(0,i.jsx)(n.strong,{children:"Each role can have 1 or more capabilities"})," together."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'ali@alis-MacBook-Pro fireback % ./app role c --name "Student Role"                              \nSelect Capabilities:\nUse arrows to navigate, CTRL+Space toggle selection, and Enter to close, or type in for search\nKeyword: stud\n\n> [ ] root/student/*\n'})}),"\n",(0,i.jsx)(n.p,{children:"You can select them with CTRL+Space, and then select enter. The same for teacher:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'ali@alis-MacBook-Pro fireback % ./app role c --name "Teacher Role"\nSelect Capabilities:\nUse arrows to navigate, CTRL+Space toggle selection, and Enter to close, or type in for search\nKeyword: teacher\n\n> [x] root/teacher/*\n'})}),"\n",(0,i.jsx)(n.p,{children:"Now we have the necessary roles. We can create workspace types for them. Please remeber\nwhen we created the roles, we are passing the uniqueId as role-id in following commands,\nand teacher and student are having different uniqueId generated for them:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'ali@alis-MacBook-Pro fireback % ./app ws type c --title "Student Workspace" --role-id OhdetYve1BQnlCHucA3Dn --slug student \nworkspaceId: root\nisDeletable: true\nisUpdatable: true\nuserId: 2jOzry2q61HC0L3qrjZrd\nrank: 0\nid: 4\nuniqueId: KW5Jnvh2ggt_cVFjPybGV\n'})}),"\n",(0,i.jsx)(n.p,{children:"Similarly, for teacher:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'ali@alis-MacBook-Pro fireback % ./app ws type c --title "Teacher Workspace" --role-id OCwiGiRe4tzOGjOjfeo6G --slug teacher \n'})}),"\n",(0,i.jsx)(n.p,{children:"After this, you'll see that these workspaces are available upoin signin method:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ali@alis-MacBook-Pro fireback % ./app ws workspace-types\n- workspaceId: system\n  isDeletable: true\n"})}),"\n",(0,i.jsx)(n.p,{children:"Obviosly it would be accessible on http server as well."})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>s,x:()=>o});var t=a(6540);const i={},r=t.createContext(i);function s(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);