"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6599],{5887:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"deeper/data-management-in-fireback","title":"Data Management in Fireback","description":"In this document, we explain how data ownership is implemented and managed within Fireback and its associated projects.","source":"@site/docs/deeper/data-management-in-fireback.mdx","sourceDirName":"deeper","slug":"/deeper/data-management-in-fireback","permalink":"/fireback/docs/deeper/data-management-in-fireback","draft":false,"unlisted":false,"editUrl":"https://github.com/torabian/fireback/tree/main/docs/docs/deeper/data-management-in-fireback.mdx","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"title":"Data Management in Fireback","sidebar_position":9},"sidebar":"tutorialSidebar","previous":{"title":"XHtml","permalink":"/fireback/docs/deeper/xhtml"},"next":{"title":"Fireback structure and sub projects","permalink":"/fireback/docs/deeper/fireback-structure-and-sub-projects"}}');var s=i(4848),a=i(8453);const r={title:"Data Management in Fireback",sidebar_position:9},d="Data Ownership in Fireback Projects",l={},o=[{value:"Why Does Fireback Manage Data?",id:"why-does-fireback-manage-data",level:2},{value:"Key Features of Fireback&#39;s Data Management",id:"key-features-of-firebacks-data-management",level:2},{value:"Default columns for each table",id:"default-columns-for-each-table",level:2},{value:"Visibility",id:"visibility",level:3},{value:"WorkspaceId",id:"workspaceid",level:3},{value:"LinkerId",id:"linkerid",level:3},{value:"ParentId",id:"parentid",level:3},{value:"IsDeletable",id:"isdeletable",level:3},{value:"IsUpdatable",id:"isupdatable",level:3},{value:"UserId",id:"userid",level:3},{value:"Rank",id:"rank",level:3},{value:"ID",id:"id",level:3},{value:"UniqueId",id:"uniqueid",level:3},{value:"Created",id:"created",level:3},{value:"Updated",id:"updated",level:3},{value:"Deleted",id:"deleted",level:3},{value:"CreatedFormatted",id:"createdformatted",level:3},{value:"UpdatedFormatted",id:"updatedformatted",level:3},{value:"UniqueId vs ID",id:"uniqueid-vs-id",level:2},{value:"Decide between &#39;one&#39;, &#39;object&#39;, and &#39;embed&#39; types.",id:"decide-between-one-object-and-embed-types",level:2}];function c(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"data-ownership-in-fireback-projects",children:"Data Ownership in Fireback Projects"})}),"\n",(0,s.jsx)(n.p,{children:"In this document, we explain how data ownership is implemented and managed within Fireback and its associated projects."}),"\n",(0,s.jsx)(n.h2,{id:"why-does-fireback-manage-data",children:"Why Does Fireback Manage Data?"}),"\n",(0,s.jsx)(n.p,{children:"Fireback aims to address common programming challenges faced in commercial products, especially for projects that begin small but later scale as they achieve success."}),"\n",(0,s.jsxs)(n.p,{children:["In the early stages of application development, many features are often considered ",(0,s.jsx)(n.strong,{children:'"nice-to-have"'})," rather than essential. This is usually done to quickly attract users or clients, or simply due to a lack of immediate interest or resources. However, delaying the implementation of critical details, such as how and where data is stored, can lead to significant issues later."]}),"\n",(0,s.jsx)(n.p,{children:"One of the most critical challenges arises when insufficient data is recorded. Without adequate information stored for each record, it becomes impossible to build new features or generate detailed reports as the application grows."}),"\n",(0,s.jsx)(n.p,{children:"To prevent these problems, Fireback includes a robust data management system. This system ensures that essential data is always collected and organized, supporting both current functionality and future scalability."}),"\n",(0,s.jsx)(n.h2,{id:"key-features-of-firebacks-data-management",children:"Key Features of Fireback's Data Management"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Built-in Role and Permission System"}),(0,s.jsx)(n.br,{}),"\n","Fireback includes a role-based permission system to control access and ensure data security."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Default Metadata Columns in Tables"}),(0,s.jsx)(n.br,{}),"\n","Each database table includes a set of default columns to store metadata, ensuring that essential information is always recorded."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Workspace, Invitation, and User Management"}),(0,s.jsx)(n.br,{}),"\n","Fireback provides integrated workspace management, user invitations, and user management features, simplifying collaboration and user onboarding."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"By incorporating these features, Fireback helps developers focus on building functional, scalable applications while ensuring critical data is properly managed."}),"\n",(0,s.jsx)(n.h2,{id:"default-columns-for-each-table",children:"Default columns for each table"}),"\n",(0,s.jsxs)(n.p,{children:["As you might notice, when you define a set of fields in ",(0,s.jsx)(n.code,{children:"entities"})," section of Module3 yaml file,\nthose fields become properties of the struct, as well as some default columns which Fireback works\nwith them."]}),"\n",(0,s.jsx)(n.h3,{id:"visibility",children:"Visibility"}),"\n",(0,s.jsx)(n.p,{children:"Defines the visibility level of the record in the table."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Default: 0 (protected by the workspace; visible to all workspace members)."}),"\n",(0,s.jsxs)(n.li,{children:["Refer to ",(0,s.jsx)(n.code,{children:"workspaces/visibility.go"})," for all possible values and their use cases."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"workspaceid",children:"WorkspaceId"}),"\n",(0,s.jsx)(n.p,{children:"Identifies the workspace to which the content belongs."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Assigned to the user's current workspace with write access during creation."}),"\n",(0,s.jsx)(n.li,{children:"Can be restricted or modified for root-level features."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"linkerid",children:"LinkerId"}),"\n",(0,s.jsx)(n.p,{children:"Stores the unique ID of the parent table to link records."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Used internally for making relationships between objects in Fireback."}),"\n",(0,s.jsx)(n.li,{children:"Generally does not require manual modification."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"parentid",children:"ParentId"}),"\n",(0,s.jsx)(n.p,{children:"Used for recursive or parent-child operations."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Allows self-referencing for nested relations."}),"\n",(0,s.jsx)(n.li,{children:"The parent record must exist before creating or modifying a record."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"isdeletable",children:"IsDeletable"}),"\n",(0,s.jsx)(n.p,{children:"Indicates whether the record can be deleted."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Default: true."}),"\n",(0,s.jsx)(n.li,{children:"Use this to protect specific records from being deleted."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"isupdatable",children:"IsUpdatable"}),"\n",(0,s.jsx)(n.p,{children:"Indicates whether the record can be updated."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Default: true."}),"\n",(0,s.jsx)(n.li,{children:"Use this to restrict updates to specific records."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"userid",children:"UserId"}),"\n",(0,s.jsx)(n.p,{children:"Identifies the user who created the record or owns it."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"By default, this is populated with the authenticated user's ID."}),"\n",(0,s.jsx)(n.li,{children:"Administrators can modify this field if required."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"rank",children:"Rank"}),"\n",(0,s.jsx)(n.p,{children:"Used for ranking or sorting elements."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Stores a numeric value to determine the order of records."}),"\n",(0,s.jsx)(n.li,{children:"Does not need to be unique across the table."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"id",children:"ID"}),"\n",(0,s.jsx)(n.p,{children:"Primary numeric key for the record in the database."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Used internally for indexing and performance improvements."}),"\n",(0,s.jsx)(n.li,{children:"Not exposed in public APIs."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"uniqueid",children:"UniqueId"}),"\n",(0,s.jsx)(n.p,{children:"Unique identifier for the record across the table."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Used in public APIs and other external interfaces."}),"\n",(0,s.jsx)(n.li,{children:"A UUID is automatically assigned unless provided in the request."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"created",children:"Created"}),"\n",(0,s.jsx)(n.p,{children:"Stores the timestamp (in nanoseconds) when the record was created."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Automatically populated by GORM."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"updated",children:"Updated"}),"\n",(0,s.jsx)(n.p,{children:"Stores the timestamp (in nanoseconds) when the record was last updated."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Automatically populated by GORM."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"deleted",children:"Deleted"}),"\n",(0,s.jsx)(n.p,{children:"Stores the timestamp (in nanoseconds) when the record was softly deleted."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Soft deletion means the data remains in the database but is not visible."}),"\n",(0,s.jsx)(n.li,{children:"Ensure this field is checked when writing custom SQL queries."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"createdformatted",children:"CreatedFormatted"}),"\n",(0,s.jsx)(n.p,{children:"Formatted creation timestamp based on locale or other factors."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"This field is not stored in the database."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"updatedformatted",children:"UpdatedFormatted"}),"\n",(0,s.jsx)(n.p,{children:"Formatted update timestamp based on locale or other factors."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"This field is not stored in the database."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"uniqueid-vs-id",children:"UniqueId vs ID"}),"\n",(0,s.jsxs)(n.p,{children:["Fireback uses to columns for managing unique id. ",(0,s.jsx)(n.code,{children:"UniqueId"})," (",(0,s.jsx)(n.code,{children:"unique_id"})," in database) is an string,\ndepending on configuration ad ",(0,s.jsx)(n.code,{children:"UUID"})," which is being generated randomly. On the other hand, ",(0,s.jsx)(n.code,{children:"ID"}),"\nis the primary key, numeric and incremental. Fireback intention is to never expose the ",(0,s.jsx)(n.code,{children:"ID"})," outside,\nor product, report or anything else by default. Records should not be accessible by such id, ever."]}),"\n",(0,s.jsx)(n.p,{children:"Numeric primary key has been added in recent versions, for the purpose of future cursor pagination\nin the database.\nMake this more professional please:"}),"\n",(0,s.jsx)(n.h2,{id:"decide-between-one-object-and-embed-types",children:"Decide between 'one', 'object', and 'embed' types."}),"\n",(0,s.jsx)(n.p,{children:"Fireback is generating some code, that developer had to write if he wanted to avoid half-measure. It\ndoes not bring new ideas, just gathers them and make it easier to use."}),"\n",(0,s.jsx)(n.p,{children:"On of most important aspects of the Fireback is how you store data in an entity. You can define entity\nfields easily with premitives, but real decision is how to store the nested data."}),"\n",(0,s.jsx)(n.p,{children:"Fireback allows multiple level of normalization, array in array, object in array, array in object.\nIn code generation process, they will become their own tables and by foreign keys connect to each other.\nYou should not make things complicated for yourself, specially Fireback gives you some ground,\nbut soon or later you need to write your own business logic, repots and custom queries."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"object"})," means, the inner table will become an indepedent table, but all actions will belong to the parent\ntable. This definition requires join to get the full information, but the object table is not accessible from\noutside by default."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"one"})," means you are targetting another table. Both tables, have their own logic, and first is not the owner of second one, unlike ",(0,s.jsx)(n.code,{children:"object"})," mode."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"embed"})," on the other hand, stores the data on the same table, and inner fields become columns directly\nin the same table. This is most performant, and not-normalized because does not need a join to retrieve\nthe information. Using ",(0,s.jsx)(n.code,{children:"array"})," inside of embed will result in ",(0,s.jsx)(n.code,{children:"json"})," object.\nTo the Golang code, you'll have nested objects to make it comfortable, but need to understand this\nwhen working with custom queries."]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>d});var t=i(6540);const s={},a=t.createContext(s);function r(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);