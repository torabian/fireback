"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1304],{4632:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"codegen/react-and-react-native-sdks","title":"React and React Native SDKs","description":"As React.js is the dominant framework of the web development, (as well as desktop and other platforms) nowadays,","source":"@site/docs/codegen/react-and-react-native-sdks.mdx","sourceDirName":"codegen","slug":"/codegen/react-and-react-native-sdks","permalink":"/fireback/docs/codegen/react-and-react-native-sdks","draft":false,"unlisted":false,"editUrl":"https://github.com/torabian/fireback/tree/main/docs/docs/codegen/react-and-react-native-sdks.mdx","tags":[],"version":"current","sidebarPosition":43,"frontMatter":{"title":"React and React Native SDKs","sidebar_position":43},"sidebar":"tutorialSidebar","previous":{"title":"Introduction to Fireback React Native","permalink":"/fireback/docs/clients/fireback-react-native/introduction-to-fireback-react-native"},"next":{"title":"Golang Generator (gof)","permalink":"/fireback/docs/codegen/gof/"}}');var i=t(4848),s=t(8453);const o={title:"React and React Native SDKs",sidebar_position:43},a=void 0,c={},d=[{value:"What is SDK and it&#39;s content",id:"what-is-sdk-and-its-content",level:2},{value:"Using generated sdk in a plain react.js app",id:"using-generated-sdk-in-a-plain-reactjs-app",level:2},{value:"<strong><code>children</code></strong> (optional)",id:"children-optional",level:3},{value:"<strong><code>remote</code></strong> (optional)",id:"remote-optional",level:3},{value:"<strong><code>preferredAcceptLanguage</code></strong> (optional)",id:"preferredacceptlanguage-optional",level:3},{value:"<strong><code>identifier</code></strong> (required)",id:"identifier-required",level:3},{value:"<strong><code>selectedUrw</code></strong> (optional)",id:"selectedurw-optional",level:3},{value:"<strong><code>token</code></strong> (optional)",id:"token-optional",level:3},{value:"<strong><code>queryClient</code></strong> (optional)",id:"queryclient-optional",level:3},{value:"<strong><code>defaultExecFn</code></strong> (optional)",id:"defaultexecfn-optional",level:3},{value:"Benefit of the generated SDK",id:"benefit-of-the-generated-sdk",level:2}];function l(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"As React.js is the dominant framework of the web development, (as well as desktop and other platforms) nowadays,\nFireback targets the React.js as primary framework, both for it's UI and creating subsequent projects."}),"\n",(0,i.jsxs)(n.p,{children:["Now fireback comes with a react.js project on ",(0,i.jsx)(n.a,{href:"https://github.com/torabian/fireback/tree/main/modules/fireback/codegen/react-new",children:"https://github.com/torabian/fireback/tree/main/modules/fireback/codegen/react-new"})]}),"\n",(0,i.jsxs)(n.p,{children:["But ",(0,i.jsx)(n.strong,{children:"SDKs"})," we are talking about here is a different part of framework. In Fireback and every app created with it,\nthere is a section called ",(0,i.jsx)(n.code,{children:"gen"})," which would give you few options, and ",(0,i.jsx)(n.code,{children:"fireback gen react"})," is responsible for exporting the SDKs for both react.js and react native."]}),"\n",(0,i.jsx)(n.h2,{id:"what-is-sdk-and-its-content",children:"What is SDK and it's content"}),"\n",(0,i.jsx)(n.p,{children:"The SDK which you can generate does not contain UI code, or guidelines. It's gonna be a code created\nto call http requests, socket requests, and export Dtos, and Entities. Anything which is exposed through\nentities actions, pure actions, dtos, and other details will become Typescript and React hooks automatically."}),"\n",(0,i.jsx)(n.p,{children:"In a nutshell, in version 1.2.1 content will be generated:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Entities will become pure Typescript classes (not interfaces)"}),"\n",(0,i.jsxs)(n.li,{children:["Entities will contain a ",(0,i.jsx)(n.code,{children:"Field"})," static object, which is a string representation of DTO or Entity\nso all fields are typed"]}),"\n",(0,i.jsxs)(n.li,{children:["React query hooks based on ",(0,i.jsx)(n.code,{children:"v3.39.3"})," will be generated. It's important to know that,\nI might update that to use with newer version without a notice, but so far there is no plan for that."]}),"\n",(0,i.jsx)(n.li,{children:"Set of react context provider for keeping the authentication information."}),"\n",(0,i.jsx)(n.li,{children:"A set of code to keep a store on the UI - removing the need for caching and store such as redux."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"using-generated-sdk-in-a-plain-reactjs-app",children:"Using generated sdk in a plain react.js app"}),"\n",(0,i.jsx)(n.p,{children:"In this section, let's go an use Fireback react sdk in a pure empty react.js app which we want to build from\ngroup zero."}),"\n",(0,i.jsxs)(n.p,{children:["You can use your own app, here we are just using plain ",(0,i.jsx)(n.code,{children:"fireback"})," itself to generate sdk:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"fireback gen react --path src/sdk\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Now, we will have a folder called ",(0,i.jsx)(n.code,{children:"sdk"})," and inside it will be two folders called ",(0,i.jsx)(n.code,{children:"core"})," and ",(0,i.jsx)(n.code,{children:"modules"}),".\nThe generated SDK will have the same structure as backend in terms of ",(0,i.jsx)(n.code,{children:"modules"})," folder.\nFor each modules, it's flat and DTOs and Entities are being exported regardless."]}),"\n",(0,i.jsx)(n.p,{children:"Fireback SDK for react is highly dependant on react-query@v3, it's considered you already\nhave installed it. In case you have different version installed on your project, it's up to you\nseparate them somehow make sure SDK can access the v3 because there is no plan to update it in Fireback\nfor backward compatibility yet."}),"\n",(0,i.jsxs)(n.p,{children:["You need to Provide QueryClientProvider in your app, Fireback doesn't. Then under that, you need to\nprovide RemoteQueryProvider from Fireback. ",(0,i.jsx)(n.code,{children:"RemoteQueryProvider"})," function has it's own set of props,\nwhich we'll explain later in this document."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'import { useRef } from "react";\nimport { QueryClient, QueryClientProvider } from "react-query";\nimport { RemoteQueryProvider } from "./sdk/core/react-tools";\n\nfunction App() {\n  const queryClient = useRef(new QueryClient());\n  return (\n    <div className="App">\n        <QueryClientProvider client={queryClient.current}>\n          <RemoteQueryProvider\n            identifier="fireback"\n            queryClient={queryClient.current}\n          >\n            <SignupTest />\n          </RemoteQueryProvider>\n          <QueryCapabilitiesTest />\n        </QueryClientProvider>\n    </div>\n  );\n}\n\nexport default App;\n\n'})}),"\n",(0,i.jsx)(n.h1,{id:"iremotequeryprovider-interface",children:(0,i.jsx)(n.strong,{children:"IRemoteQueryProvider Interface"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"IRemoteQueryProvider"})," interface defines the structure and options for integrating the Fireback SDK with React Query. Below is a detailed explanation of its properties:"]}),"\n",(0,i.jsxs)(n.h3,{id:"children-optional",children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"children"})})," (optional)"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type"}),": ",(0,i.jsx)(n.code,{children:"React.ReactNode"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Description"}),":",(0,i.jsx)(n.br,{}),"\n","Represents the rest of your application that will have access to the SDK.",(0,i.jsx)(n.br,{}),"\n","Ensure that the React Query provider is placed outside and pass the ",(0,i.jsx)(n.code,{children:"queryClient"})," via the ",(0,i.jsx)(n.code,{children:"queryClient"})," prop."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"remote-optional",children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"remote"})})," (optional)"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type"}),": ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Description"}),":",(0,i.jsx)(n.br,{}),"\n","The web server address the app will connect to.",(0,i.jsx)(n.br,{}),"\n","Update this value based on the environment (development/production).",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Important"}),": Always include a trailing slash, e.g., ",(0,i.jsx)(n.code,{children:'remote="http://localhost:4500/"'}),". Fireback does not add the slash for you."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"preferredacceptlanguage-optional",children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"preferredAcceptLanguage"})})," (optional)"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type"}),": ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Description"}),":",(0,i.jsx)(n.br,{}),"\n","Sets the ",(0,i.jsx)(n.code,{children:"Accept-Language"})," header for all requests.",(0,i.jsx)(n.br,{}),"\n","Use this to override auto-detection of the user\u2019s language.",(0,i.jsx)(n.br,{}),"\n","Ideal if users select their preferred language manually."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"identifier-required",children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"identifier"})})," (required)"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type"}),": ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Description"}),":",(0,i.jsx)(n.br,{}),"\n","A unique identifier for saving SDK caches in ",(0,i.jsx)(n.code,{children:"localStorage"}),".",(0,i.jsx)(n.br,{}),"\n","Use your app name here to avoid cache collisions, especially in development environments."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"selectedurw-optional",children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"selectedUrw"})})," (optional)"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type"}),": ",(0,i.jsx)(n.code,{children:"UserRoleWorkspace"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Description"}),":",(0,i.jsx)(n.br,{}),"\n","Tracks the user's current role and workspace.",(0,i.jsx)(n.br,{}),"\n","After authentication, store and update this information to send role and workspace IDs with headers automatically.",(0,i.jsx)(n.br,{}),"\n","Update the ",(0,i.jsx)(n.code,{children:"selectedUrw"})," object if users can switch workspaces or roles."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"token-optional",children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"token"})})," (optional)"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type"}),": ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Description"}),":",(0,i.jsx)(n.br,{}),"\n","Provide the authentication token (stored in ",(0,i.jsx)(n.code,{children:"localStorage"}),") after authenticating the client.",(0,i.jsx)(n.br,{}),"\n","This is crucial for apps with multiple SDKs to share the same token.",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Note"}),": If the app is fully public, this token can be omitted unless forced by specific functions."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"queryclient-optional",children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"queryClient"})})," (optional)"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type"}),": ",(0,i.jsx)(n.code,{children:"QueryClient"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Description"}),":",(0,i.jsx)(n.br,{}),"\n","Pass the same ",(0,i.jsx)(n.code,{children:"QueryClient"})," object provided to ",(0,i.jsx)(n.code,{children:"QueryClientProvider"}),".",(0,i.jsx)(n.br,{}),"\n","This stores caches and other necessary data for React Query."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"defaultexecfn-optional",children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"defaultExecFn"})})," (optional)"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type"}),": ",(0,i.jsx)(n.code,{children:"any"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Description"}),":",(0,i.jsx)(n.br,{}),"\n","Override the default HTTP call function for custom behaviors (e.g., using a mock server).",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Example"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"defaultExecFn={() => {\n  return (options: any) => mockExecFn(options, mockServer.current);\n}}\n\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'import { QueryClient, QueryClientProvider } from "react-query";\n\nconst queryClient = new QueryClient();\n\nconst App = () => {\n  return (\n    <IRemoteQueryProvider\n      remote="http://localhost:4500/"\n      identifier="myApp"\n      preferredAcceptLanguage="en-US"\n      token="user-auth-token"\n      queryClient={queryClient}\n      socket={true}\n      prefix="/api/v1"\n      defaultExecFn={customExecFunction}\n    >\n      {/* Rest of your application goes here */}\n      <YourAppComponents />\n    </IRemoteQueryProvider>\n  );\n};\n\nexport default App;\n\n'})}),"\n",(0,i.jsx)(n.h2,{id:"benefit-of-the-generated-sdk",children:"Benefit of the generated SDK"}),"\n",(0,i.jsx)(n.p,{children:"As you might notice one of the major features are Fireback is that it's capable of\nsaving json objects into normalized sql database. The fact that you define entities,\nmakes multiple tables and link them with foreign keys automatically."}),"\n",(0,i.jsx)(n.p,{children:"It means on a developer level, you are working with your json, posting it to server,\nbut generated code will split that into their own tables. Implementing this manually\nfor all entities and endpoints is the major motivation for having unstructed databases\nsuch as mongodb in a project."}),"\n",(0,i.jsx)(n.p,{children:"What is important that, the json UI works with, to be always in sync with what backend\nis expecting. For example, if a field has been removed, UI should not be able to compile\nor even if it has got a different type."}),"\n",(0,i.jsxs)(n.p,{children:["For this purpose, we generate a on each DTO or Entity class a static field called ",(0,i.jsx)(n.code,{children:"Fields"}),".\nThis object contains the signature of the dto/entity, but as javascript."]}),"\n",(0,i.jsxs)(n.p,{children:["Consider the ",(0,i.jsx)(n.code,{children:"WorkspaceEntit.ts"})," and field section:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"public static Fields = {\n  ...BaseEntity.Fields,\n  description: `description`,\n  name: `name`,\n  typeId: `typeId`,\n  type$: `type`,\n  type: WorkspaceTypeEntity.Fields,\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"As you see all of the fields are accessible as a Javascript object, so in form creation you can use:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"void form.setFieldValue(WorkspaceEntity.Fields.name, 'new-name')\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var r=t(6540);const i={},s=r.createContext(i);function o(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);