package home

/*
*	Generated by fireback 1.2.3
*	Written by Ali Torabi.
*	Checkout the repository for licenses and contribution: https://github.com/torabian/fireback
 */
import (
	"github.com/gin-gonic/gin"
	"github.com/torabian/fireback/modules/fireback"
	"github.com/urfave/cli"
)

// using shared actions here
var HomePageSecurityModel *fireback.SecurityModel = nil

type homePageActionImpSig func(
	q fireback.QueryDSL) (*fireback.XHtml,
	*fireback.IError,
)

var HomePageActionImp homePageActionImpSig

func HomePageActionFn(
	q fireback.QueryDSL,
) (
	*fireback.XHtml,
	*fireback.IError,
) {
	if HomePageActionImp == nil {
		return nil, nil
	}
	return HomePageActionImp(q)
}

var HomePageActionCmd cli.Command = cli.Command{
	Name:  "home-page",
	Usage: ``,
	Action: func(c *cli.Context) {
		query := fireback.CommonCliQueryDSLBuilderAuthorize(c, HomePageSecurityModel)
		result, err := HomePageActionFn(query)
		fireback.HandleActionInCli(c, result, err, map[string]map[string]string{})
	},
}

func HomeCustomActions() []fireback.Module3Action {
	routes := []fireback.Module3Action{
		{
			Method:        "GET",
			Url:           "/",
			SecurityModel: HomePageSecurityModel,
			Name:          "homePage",
			Description:   "",
			Handlers: []gin.HandlerFunc{
				func(c *gin.Context) {
					// GET_ONE - get
					fireback.HttpHtml(c, HomePageActionFn)
				},
			},
			Format:         "GET_ONE",
			Action:         HomePageActionFn,
			ResponseEntity: string(""),
			Out: &fireback.Module3ActionBody{
				Entity: "",
			},
		},
	}
	return routes
}

var HomeCustomActionsCli = []cli.Command{
	HomePageActionCmd,
}

// Use the actions bundle for ease and provide it to the ModuleProvider
// and it would gather all actions in the module level
var HomeCliActionsBundle = &fireback.CliActionsBundle{
	Name:  "home",
	Usage: ``,
	// Here we will include entities actions, as well as module level actions
	Subcommands: cli.Commands{
		HomePageActionCmd,
	},
}

func GetHomeActionsBundle() *fireback.ModuleActionsBundle {
	return &fireback.ModuleActionsBundle{
		Actions:   HomeCustomActions(),
		CliAction: HomeCliActionsBundle,
	}
}
func GetHomeActionsCli() []cli.Command {
	return HomeCustomActionsCli
}
